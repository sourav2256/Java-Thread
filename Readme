What are the 4 conditions for deadlock?

The four necessary conditions for a deadlock situation to occur are
1. mutual exclusion,
2. hold and wait,
3. no preemption,
4. circular set.

We can prevent a deadlock by preventing any one of these conditions.

note: Thread 1 had to flag 'done' true for thread 2 to finish execution and print totalMb. Thread 2 did not
wait for thread 1 to complete and due to done being flagged as false the loop inside thread 2 runs indefinitely.